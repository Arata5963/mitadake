<%# レシピカード風コレクション %>
<%# 料理レシピカードのようなデザイン %>
<% post = entry.post %>

<article class="recipe-card">
  <%# カードヘッダー（装飾） %>
  <div class="recipe-card__header">
    <div class="recipe-card__header-pattern"></div>
  </div>

  <%# 動画サムネイル（料理写真風） %>
  <div class="recipe-card__image">
    <%= image_tag "https://i.ytimg.com/vi/#{post.youtube_video_id}/mqdefault.jpg",
          alt: post.youtube_title,
          loading: "lazy" %>
    <div class="recipe-card__badge">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
      <span>達成</span>
    </div>
  </div>

  <%# コンテンツ %>
  <div class="recipe-card__content">
    <%# タイトル（動画名） %>
    <header class="recipe-card__title-section">
      <span class="recipe-card__label">学んだ動画</span>
      <h3 class="recipe-card__title"><%= truncate(post.youtube_title, length: 40) %></h3>
    </header>

    <%# 区切り線 %>
    <div class="recipe-card__divider">
      <span class="recipe-card__divider-icon">✦</span>
    </div>

    <%# アクションプラン（レシピ風） %>
    <div class="recipe-card__recipe">
      <span class="recipe-card__label">実践したこと</span>
      <p class="recipe-card__recipe-text"><%= entry.content %></p>
    </div>

    <%# フッター %>
    <footer class="recipe-card__footer">
      <div class="recipe-card__date">
        <svg viewBox="0 0 24 24" fill="currentColor" class="recipe-card__date-icon">
          <path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z"/>
        </svg>
        <span><%= entry.achieved_at.strftime("%Y.%-m.%-d") %></span>
      </div>
    </footer>
  </div>
</article>

<style>
  .recipe-card {
    background: #ffffff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .recipe-card:hover {
    transform: translateY(-4px);
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -4px rgba(0, 0, 0, 0.1);
  }

  /* ヘッダーパターン */
  .recipe-card__header {
    height: 6px;
    background: linear-gradient(90deg, #f97316, #fb923c, #fdba74);
  }

  .recipe-card__header-pattern {
    height: 100%;
    background-image: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 8px,
      rgba(255, 255, 255, 0.3) 8px,
      rgba(255, 255, 255, 0.3) 16px
    );
  }

  /* 動画画像 */
  .recipe-card__image {
    position: relative;
    aspect-ratio: 16/9;
    overflow: hidden;
  }

  .recipe-card__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .recipe-card__badge {
    position: absolute;
    top: 8px;
    right: 8px;
    display: flex;
    align-items: center;
    gap: 4px;
    background: linear-gradient(135deg, #f97316, #ea580c);
    color: #fff;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 10px;
    font-weight: 600;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  .recipe-card__badge svg {
    width: 12px;
    height: 12px;
  }

  /* コンテンツ */
  .recipe-card__content {
    padding: 14px;
  }

  .recipe-card__label {
    display: block;
    font-size: 9px;
    font-weight: 600;
    color: #9ca3af;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }

  .recipe-card__title-section {
    margin-bottom: 10px;
  }

  .recipe-card__title {
    font-size: 12px;
    font-weight: 600;
    color: #1f2937;
    line-height: 1.4;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* 区切り */
  .recipe-card__divider {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
  }

  .recipe-card__divider::before,
  .recipe-card__divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
  }

  .recipe-card__divider-icon {
    font-size: 8px;
    color: #f97316;
  }

  /* レシピ（アクションプラン） */
  .recipe-card__recipe {
    margin-bottom: 12px;
  }

  .recipe-card__recipe-text {
    font-size: 12px;
    color: #374151;
    line-height: 1.6;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* フッター */
  .recipe-card__footer {
    padding-top: 10px;
    border-top: 1px solid #f3f4f6;
  }

  .recipe-card__date {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 10px;
    color: #6b7280;
  }

  .recipe-card__date-icon {
    width: 12px;
    height: 12px;
  }
</style>
