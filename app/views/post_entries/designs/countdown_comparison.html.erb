<%# app/views/post_entries/designs/_countdown_comparison.html.erb %>
<%# 残り日数表示のデザイン比較 %>

<%
  # サンプルデータ
  sample_content = "毎朝10分間の瞑想を実践する"
  sample_user_name = "あらた"
  days_samples = [7, 5, 3, 1, 0]  # 残り日数のサンプル
%>

<div class="max-w-3xl mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold text-gray-900 mb-2">残り日数表示 デザイン比較</h1>
  <p class="text-sm text-gray-500 mb-8">投稿詳細ページのアクションプランカードに表示する残り日数のデザイン</p>

  <% days_samples.each do |days| %>
    <%
      if days == 0
        status_label = "期限切れ"
        progress_color = "#9ca3af"
        badge_bg = "#f3f4f6"
        badge_text = "#6b7280"
        card_bg = "#fafafa"
        text_style = "text-decoration: line-through; color: #9ca3af;"
      elsif days == 1
        status_label = "残り1日"
        progress_color = "#ef4444"
        badge_bg = "#fef2f2"
        badge_text = "#dc2626"
        card_bg = "#fffbfb"
        text_style = "color: #1a1a1a;"
      elsif days <= 3
        status_label = "残り#{days}日"
        progress_color = "#f59e0b"
        badge_bg = "#fffbeb"
        badge_text = "#d97706"
        card_bg = "#fffdf7"
        text_style = "color: #1a1a1a;"
      else
        status_label = "残り#{days}日"
        progress_color = "#22c55e"
        badge_bg = "#f0fdf4"
        badge_text = "#16a34a"
        card_bg = "white"
        text_style = "color: #1a1a1a;"
      end
      progress_width = (days.to_f / 7 * 100).round
    %>

    <div class="mb-12">
      <h2 class="text-lg font-bold text-gray-700 mb-4 pb-2 border-b"><%= status_label %></h2>

      <div class="space-y-4">

        <%# === デザインA: プログレスバー型 === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">A. プログレスバー型</p>
          <article style="position: relative; padding: 14px 16px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 22px; height: 22px; border-radius: 50%; border: 2px solid <%= days == 0 ? '#c7c7cc' : '#000000' %>;"></div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
                  <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                    <div style="width: <%= progress_width %>%; height: 100%; background: <%= progress_color %>; border-radius: 3px;"></div>
                  </div>
                  <span style="font-size: 12px; color: <%= badge_text %>; font-weight: 500; white-space: nowrap;"><%= status_label %></span>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === デザインB: バッジ型（シンプル） === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">B. バッジ型（シンプル）</p>
          <article style="position: relative; padding: 14px 16px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 22px; height: 22px; border-radius: 50%; border: 2px solid <%= days == 0 ? '#c7c7cc' : '#000000' %>;"></div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 12px; margin-top: 6px;">
                  <span style="display: inline-flex; align-items: center; padding: 2px 10px; background: <%= badge_bg %>; border-radius: 10px; font-size: 12px; font-weight: 500; color: <%= badge_text %>;"><%= status_label %></span>
                  <span style="font-size: 13px; color: #8e8e93;"><%= sample_user_name %></span>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === デザインC: カウントダウン円型 === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">C. カウントダウン円型（チェックボックス置換）</p>
          <article style="position: relative; padding: 14px 16px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <%# 残り日数を円の中に表示 %>
              <div style="width: 28px; height: 28px; border-radius: 50%; background: <%= progress_color %>; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <span style="font-size: 13px; font-weight: 700; color: white;"><%= days == 0 ? '!' : days %></span>
              </div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 12px; margin-top: 6px;">
                  <span style="font-size: 13px; color: #8e8e93;"><%= sample_user_name %></span>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === デザインD: カード背景グラデーション === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">D. カード背景グラデーション</p>
          <article style="position: relative; padding: 14px 16px; background: <%= card_bg %>; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); <%= days == 1 ? 'border-left: 3px solid #ef4444;' : (days <= 3 && days > 0 ? 'border-left: 3px solid #f59e0b;' : '') %>">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 22px; height: 22px; border-radius: 50%; border: 2px solid <%= days == 0 ? '#c7c7cc' : '#000000' %>;"></div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 12px; margin-top: 6px;">
                  <span style="font-size: 13px; color: #8e8e93;"><%= status_label %></span>
                  <span style="font-size: 13px; color: #8e8e93;">・</span>
                  <span style="font-size: 13px; color: #8e8e93;"><%= sample_user_name %></span>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === 組み合わせ1: A + D（プログレスバー + 背景色） === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">組み合わせ1: A + D（プログレスバー + 背景色）</p>
          <article style="position: relative; padding: 14px 16px; background: <%= card_bg %>; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); <%= days == 1 ? 'border-left: 3px solid #ef4444;' : (days <= 3 && days > 0 ? 'border-left: 3px solid #f59e0b;' : '') %>">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 22px; height: 22px; border-radius: 50%; border: 2px solid <%= days == 0 ? '#c7c7cc' : '#000000' %>;"></div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
                  <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                    <div style="width: <%= progress_width %>%; height: 100%; background: <%= progress_color %>; border-radius: 3px;"></div>
                  </div>
                  <span style="font-size: 12px; color: <%= badge_text %>; font-weight: 500; white-space: nowrap;"><%= status_label %></span>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === 組み合わせ2: B + D（バッジ + 背景色） === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">組み合わせ2: B + D（バッジ + 背景色）</p>
          <article style="position: relative; padding: 14px 16px; background: <%= card_bg %>; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); <%= days == 1 ? 'border-left: 3px solid #ef4444;' : (days <= 3 && days > 0 ? 'border-left: 3px solid #f59e0b;' : '') %>">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 22px; height: 22px; border-radius: 50%; border: 2px solid <%= days == 0 ? '#c7c7cc' : '#000000' %>;"></div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 12px; margin-top: 6px;">
                  <span style="display: inline-flex; align-items: center; padding: 2px 10px; background: <%= badge_bg %>; border-radius: 10px; font-size: 12px; font-weight: 500; color: <%= badge_text %>;"><%= status_label %></span>
                  <span style="font-size: 13px; color: #8e8e93;"><%= sample_user_name %></span>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === 組み合わせ3: C + A（円型 + プログレスバー） === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">組み合わせ3: C + A（円型 + プログレスバー）</p>
          <article style="position: relative; padding: 14px 16px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 28px; height: 28px; border-radius: 50%; background: <%= progress_color %>; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <span style="font-size: 13px; font-weight: 700; color: white;"><%= days == 0 ? '!' : days %></span>
              </div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
                  <div style="flex: 1; height: 4px; background: #e5e7eb; border-radius: 2px; overflow: hidden;">
                    <div style="width: <%= progress_width %>%; height: 100%; background: <%= progress_color %>; border-radius: 2px;"></div>
                  </div>
                </div>
              </div>
            </div>
          </article>
        </div>

        <%# === 組み合わせ4: 全部盛り（C + A + D） === %>
        <div>
          <p class="text-xs text-gray-400 mb-2">組み合わせ4: 全部盛り（C + A + D）</p>
          <article style="position: relative; padding: 14px 16px; background: <%= card_bg %>; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); <%= days == 1 ? 'border-left: 3px solid #ef4444;' : (days <= 3 && days > 0 ? 'border-left: 3px solid #f59e0b;' : '') %>">
            <div style="display: flex; align-items: flex-start; gap: 14px;">
              <div style="width: 28px; height: 28px; border-radius: 50%; background: <%= progress_color %>; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                <span style="font-size: 13px; font-weight: 700; color: white;"><%= days == 0 ? '!' : days %></span>
              </div>
              <div style="flex: 1; min-width: 0;">
                <p style="font-size: 17px; line-height: 1.4; <%= text_style %>"><%= sample_content %></p>
                <div style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
                  <div style="flex: 1; height: 4px; background: #e5e7eb; border-radius: 2px; overflow: hidden;">
                    <div style="width: <%= progress_width %>%; height: 100%; background: <%= progress_color %>; border-radius: 2px;"></div>
                  </div>
                </div>
              </div>
            </div>
          </article>
        </div>

      </div>
    </div>
  <% end %>
</div>
