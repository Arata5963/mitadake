<%#
  app/views/users/collections/_journal.html.erb
  ==========================================
  達成コレクション: ジャーナルデザイン
  ==========================================

  【このパーシャルの役割】
  達成したアクションプランを「日記/ジャーナル」風に表示。
  ノートに動画を貼り付けてメモを書いたようなデザイン。

  【パラメータ】
  entry: 達成済みのPostEntryオブジェクト

  【デザイン要素】
  - 日付ヘッダー（月/日/年）
  - チェックマーク（達成アイコン）
  - 動画サムネイル（テープで貼ったような装飾）
  - 動画タイトル（📺アイコン付き）
  - アクションプラン（手書き風テキスト）
  - 「達成!」スタンプ

  【CSSクラス】
  .journal-entry__* で定義
%>
<% post = entry.post %>

<article class="journal-entry">
  <%# 日付ヘッダー %>
  <header class="journal-entry__header">
    <time class="journal-entry__date">
      <span class="journal-entry__month"><%= entry.achieved_at.strftime("%-m") %>月</span>
      <span class="journal-entry__day"><%= entry.achieved_at.strftime("%-d") %></span>
      <span class="journal-entry__year"><%= entry.achieved_at.strftime("%Y") %></span>
    </time>
    <div class="journal-entry__weather">
      <svg class="journal-entry__check" viewBox="0 0 24 24" fill="currentColor">
        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
      </svg>
    </div>
  </header>

  <%# 動画サムネイル（テープで貼ったような） %>
  <div class="journal-entry__photo">
    <div class="journal-entry__tape journal-entry__tape--top"></div>
    <div class="journal-entry__image">
      <%= image_tag "https://i.ytimg.com/vi/#{post.youtube_video_id}/mqdefault.jpg",
            alt: post.youtube_title,
            loading: "lazy" %>
    </div>
    <div class="journal-entry__tape journal-entry__tape--bottom"></div>
  </div>

  <%# 動画タイトル（小さく） %>
  <p class="journal-entry__video-title">
    📺 <%= truncate(post.youtube_title, length: 40) %>
  </p>

  <%# アクションプラン（手書き風メモ） %>
  <div class="journal-entry__content">
    <p class="journal-entry__text"><%= entry.content %></p>
  </div>

  <%# 達成マーク %>
  <div class="journal-entry__stamp">達成!</div>
</article>
