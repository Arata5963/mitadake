<%#
  app/views/pages/landing.html.erb
  ==========================================
  ランディングページ（トップページ）
  ==========================================

  【このページの役割】
  未ログインユーザー向けのサービス紹介ページ。
  サービスの価値を伝え、ユーザー登録を促す。

  【ページ構成】
  1. ナビゲーション - ロゴ + ログインボタン
  2. ヒーローセクション - キャッチコピー + 投稿イメージ + CTA
  3. 6つの特徴 - サービスの特徴を丸いカードで表示
  4. 使い方 - 3ステップ説明
  5. みんなの「やってみた」- 達成済みアクションプランの実例
  6. 最終CTA - 「無料で始める」ボタン
  7. フッター - コピーライト + リンク

  【レイアウト】
  layouts/landing.html.erb を使用（ヘッダーなし）

  【コントローラー】
  PagesController#landing
  @achieved_entries: 達成済みエントリーのサンプル
%>

<div class="min-h-screen bg-gray-50">

  <%# ===== ナビゲーション ===== %>
  <nav class="py-4 px-4 sm:px-6 bg-white border-b border-gray-100">
    <div class="max-w-4xl mx-auto flex items-center justify-between">
      <span class="text-lg font-bold text-gray-900">mitadake?</span>
      <%= link_to new_user_session_path, class: "px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-full hover:bg-gray-800 transition-colors" do %>
        ログイン
      <% end %>
    </div>
  </nav>

  <%# ===== ヒーローセクション ===== %>
  <section class="px-4 sm:px-6 text-center bg-white" style="padding-top: 80px; padding-bottom: 120px;">
    <%# テキストコンテンツ %>
    <div class="max-w-2xl mx-auto">
      <%# アイコン %>
      <div class="w-16 h-16 mx-auto mb-8 bg-gray-900 rounded-full flex items-center justify-center">
        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
      </div>

      <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-6">
        動画を観て、それで終わり？<br>
        「やってみた」に変えよう。
      </h1>

      <%# アプリの説明 %>
      <p class="text-gray-600 text-lg leading-relaxed mb-4">
        きっかけになった動画と、そこから始めるアクションプランを<br class="hidden sm:inline">
        セットで投稿・管理できるサービスです。
      </p>
      <p class="text-gray-500 leading-relaxed mb-10">
        アクションプランはYouTubeのタイトル風に設定。<br class="hidden sm:inline">
        サムネイルも自分で選んで、あなただけの「やってみた」カードを作れます。
      </p>
    </div>

    <%# 投稿イメージ（3件グリッド）- 幅を広げるため別コンテナ %>
    <% if @achieved_entries.present? %>
      <div class="max-w-4xl mx-auto mb-12">
        <div class="hero-card-grid">
          <% @achieved_entries.first(3).each do |entry| %>
            <article class="border border-gray-200 rounded-lg overflow-hidden bg-white">
              <div class="relative bg-gray-100" style="aspect-ratio: 16/9;">
                <% thumbnail_url = entry.thumbnail_url.present? ? entry.signed_thumbnail_url : entry.post.youtube_thumbnail_url(size: :mqdefault) %>
                <img src="<%= thumbnail_url %>" alt="" class="w-full h-full object-cover">
              </div>
              <div class="p-3 text-left">
                <p class="text-sm font-medium text-gray-900 leading-snug mb-2" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                  <%= entry.content %>
                </p>
                <div class="flex items-center gap-2">
                  <%= render "shared/avatar", user: entry.user, size: :sm, fallback: :gradient %>
                  <span class="text-xs text-gray-500"><%= entry.user&.name %></span>
                </div>
              </div>
            </article>
          <% end %>
        </div>
      </div>
    <% end %>

    <%# CTAボタン %>
    <div class="max-w-2xl mx-auto">

      <%= link_to new_user_session_path, class: "inline-flex items-center gap-2 px-8 py-4 bg-gray-900 text-white text-lg font-semibold rounded-full hover:bg-gray-800 transition-all" do %>
        無料で始める
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      <% end %>
    </div>
  </section>

  <%# ===== 6つの特徴（丸いカード） ===== %>
  <section class="px-4 sm:px-6" style="padding-top: 120px; padding-bottom: 120px;">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-4">
        mitadake?の6つの特徴
      </h2>
      <p class="text-gray-500 text-center mb-12">
        「見ただけ」を「やってみた」に変える仕組み
      </p>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <%# 特徴1 %>
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">動画から始まる</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            YouTubeで見つけた動画のURLを貼り付けるだけ。気になる動画がアクションのきっかけに。
          </p>
        </div>

        <%# 特徴2 %>
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">AIがアクションを提案</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            「何をすればいい？」を解決。動画の内容から具体的なアクションを自動で提案します。
          </p>
        </div>

        <%# 特徴3 %>
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">7日の期限で習慣化</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            「いつかやろう」は永遠に来ない。7日間という期限が今すぐの行動を促します。
          </p>
        </div>

        <%# 特徴4 %>
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">1つに集中</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            達成するまで次には進めない。「あれもこれも」を防いで、確実にやり切れます。
          </p>
        </div>

        <%# 特徴5 %>
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4V2M17 4V2M3 8h18M5 4h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2zM15 13l-3-3m0 0l-3 3m3-3v6"/>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">YouTube風カード作成</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            アクションをYouTubeタイトル風に変換。カスタムサムネイルを設定して共有できます。
          </p>
        </div>

        <%# 特徴6 %>
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
            </svg>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">行動数ランキング</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            再生数ではなく「行動された数」で動画を発見。本当に役立つ動画が見つかります。
          </p>
        </div>
      </div>
    </div>
  </section>

  <%# ===== 使い方（3ステップ） ===== %>
  <section class="px-4 sm:px-6 bg-white" style="padding-top: 120px; padding-bottom: 120px;">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-4">
        使い方はシンプル
      </h2>
      <p class="text-gray-500 text-center mb-12">
        3ステップで始められます
      </p>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <span class="text-gray-700 font-bold text-lg">1</span>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">動画を選ぶ</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            行動につなげたい動画をURLで貼り付け、またはタイトル・チャンネル名で検索
          </p>
        </div>

        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <span class="text-gray-700 font-bold text-lg">2</span>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">アクション宣言</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            YouTubeタイトル風にアクションを設定。迷ったらAIが提案してくれます
          </p>
        </div>

        <div class="bg-white rounded-2xl p-6 text-center border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all">
          <div class="w-12 h-12 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <span class="text-gray-700 font-bold text-lg">3</span>
          </div>
          <h3 class="font-bold text-gray-900 mb-2">7日以内に達成</h3>
          <p class="text-gray-500 text-sm leading-relaxed">
            達成したらチェック。コレクションに追加されます
          </p>
        </div>
      </div>
    </div>
  </section>

  <%# ===== 達成済みアクション（実際のデータ） ===== %>
  <% if @achieved_entries.present? %>
    <section class="px-4 sm:px-6" style="padding-top: 120px; padding-bottom: 120px;">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-4">
          みんなの「やってみた」
        </h2>
        <p class="text-gray-500 text-center mb-12">
          実際に達成されたアクションプラン
        </p>

        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
          <% @achieved_entries.each do |entry| %>
            <article class="border border-gray-200 rounded-lg overflow-hidden bg-white">
              <%# サムネイル %>
              <div class="relative bg-gray-100" style="aspect-ratio: 16/9;">
                <% thumbnail_url = entry.thumbnail_url.present? ? entry.signed_thumbnail_url : entry.post.youtube_thumbnail_url(size: :mqdefault) %>
                <img src="<%= thumbnail_url %>" alt="" class="w-full h-full object-cover">
                <%# 達成バッジ %>
                <div class="absolute top-2 right-2 bg-gray-700 text-white text-xs px-2 py-1 rounded flex items-center gap-1">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                  達成
                </div>
              </div>
              <%# タイトル・ユーザー %>
              <div class="p-3">
                <p class="text-sm font-medium text-gray-900 leading-snug mb-2" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                  <%= entry.content %>
                </p>
                <div class="flex items-center gap-2">
                  <%= render "shared/avatar", user: entry.user, size: :sm, fallback: :gradient %>
                  <span class="text-xs text-gray-500"><%= entry.user&.name %></span>
                </div>
              </div>
            </article>
          <% end %>
        </div>
      </div>
    </section>
  <% end %>

  <%# ===== 最終CTA ===== %>
  <section class="px-4 sm:px-6 bg-white" style="padding-top: 120px; padding-bottom: 120px;">
    <div class="max-w-2xl mx-auto text-center">
      <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-4">
        「見ただけ」を「やってみた」に
      </h2>
      <p class="text-gray-500 mb-10">
        今日から始めてみませんか？
      </p>
      <%= link_to new_user_session_path, class: "inline-flex items-center gap-2 px-8 py-4 bg-gray-900 text-white text-lg font-semibold rounded-full hover:bg-gray-800 transition-all" do %>
        無料で始める
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      <% end %>
      <p class="text-sm text-gray-400 mt-4">
        Googleアカウントで簡単登録
      </p>
    </div>
  </section>

  <%# ===== フッター ===== %>
  <footer class="py-8 px-4 sm:px-6 bg-white border-t border-gray-100">
    <div class="max-w-4xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
      <p class="text-sm text-gray-400">
        &copy; <%= Date.current.year %> mitadake?
      </p>
      <div class="flex items-center gap-6">
        <%= link_to "利用規約", terms_path, class: "text-sm text-gray-400 hover:text-gray-600" %>
        <%= link_to "プライバシーポリシー", privacy_path, class: "text-sm text-gray-400 hover:text-gray-600" %>
      </div>
    </div>
  </footer>

</div>
