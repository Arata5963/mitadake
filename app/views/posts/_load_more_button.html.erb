<%#
  app/views/posts/_load_more_button.html.erb
  ==========================================
  「もっと見る」ボタン
  ==========================================

  【このパーシャルの役割】
  ページネーションで次のページがある場合に表示する
  「もっと見る」ボタン。クリックでTurbo Streamで追加読み込み。

  【パラメータ】
  posts: ページネーション済みのPostコレクション

  【表示ロジック】
  posts.next_page が存在する → ボタン表示
  存在しない → 非表示（全て読み込み済み）

  【Turbo Stream対応】
  link_to に data: { turbo_stream: true } を指定することで、
  クリック時にTurbo Streamレスポンスを受け取る。

  【初期状態】
  class="hidden" で非表示。load-moreコントローラーが
  スクロールに応じて表示を制御する。
%>

<div id="load-more-container" data-load-more-target="button" class="hidden">
  <% if posts.next_page %>
    <div class="flex justify-center py-8">
      <%= link_to posts_path(page: posts.next_page, q: params[:q], user_id: params[:user_id], format: :turbo_stream),
            data: { turbo_stream: true },
            class: "inline-flex items-center gap-2 px-8 py-3 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200 transition-colors" do %>
        <span>もっと見る</span>
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
        </svg>
      <% end %>
    </div>
  <% end %>
</div>
