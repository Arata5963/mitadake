<%# 達成証明書風コレクション %>
<%# 公式な達成証明書のようなデザイン %>
<% post = entry.post %>

<article class="certificate">
  <%# 装飾ボーダー %>
  <div class="certificate__border">
    <div class="certificate__inner">
      <%# ヘッダー %>
      <header class="certificate__header">
        <div class="certificate__emblem">
          <svg viewBox="0 0 40 40" fill="currentColor">
            <path d="M20 2L24.5 11.5L35 13L27.5 20.5L29 31L20 26L11 31L12.5 20.5L5 13L15.5 11.5L20 2Z"/>
          </svg>
        </div>
        <h2 class="certificate__title">達成証明書</h2>
        <p class="certificate__subtitle">CERTIFICATE OF ACHIEVEMENT</p>
      </header>

      <%# 動画情報 %>
      <div class="certificate__video">
        <div class="certificate__thumbnail">
          <%= image_tag "https://i.ytimg.com/vi/#{post.youtube_video_id}/mqdefault.jpg",
                alt: post.youtube_title,
                loading: "lazy" %>
        </div>
        <p class="certificate__video-title"><%= truncate(post.youtube_title, length: 45) %></p>
      </div>

      <%# 本文 %>
      <div class="certificate__body">
        <p class="certificate__pretext">上記の動画を視聴し、以下を実践したことを証明します</p>
        <div class="certificate__action">
          <p class="certificate__action-text">"<%= entry.content %>"</p>
        </div>
      </div>

      <%# フッター %>
      <footer class="certificate__footer">
        <div class="certificate__date-section">
          <p class="certificate__date-label">達成日</p>
          <p class="certificate__date"><%= entry.achieved_at.strftime("%Y年%-m月%-d日") %></p>
        </div>
        <div class="certificate__seal">
          <div class="certificate__seal-inner">
            <span>認定</span>
          </div>
        </div>
      </footer>
    </div>
  </div>
</article>

<style>
  .certificate {
    background: linear-gradient(135deg, #fefce8 0%, #fef9c3 50%, #fefce8 100%);
    padding: 8px;
    border-radius: 4px;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -2px rgba(0, 0, 0, 0.1);
  }

  .certificate__border {
    border: 3px double #b8860b;
    border-radius: 2px;
    padding: 4px;
  }

  .certificate__inner {
    border: 1px solid #d4af37;
    padding: 16px 12px;
    background: linear-gradient(180deg, #fffef5 0%, #fefce8 100%);
  }

  /* ヘッダー */
  .certificate__header {
    text-align: center;
    margin-bottom: 12px;
  }

  .certificate__emblem {
    width: 28px;
    height: 28px;
    margin: 0 auto 6px;
    color: #b8860b;
  }

  .certificate__emblem svg {
    width: 100%;
    height: 100%;
  }

  .certificate__title {
    font-size: 16px;
    font-weight: 700;
    color: #78350f;
    margin: 0;
    letter-spacing: 4px;
  }

  .certificate__subtitle {
    font-size: 7px;
    color: #92400e;
    margin: 4px 0 0;
    letter-spacing: 2px;
  }

  /* 動画情報 */
  .certificate__video {
    margin-bottom: 12px;
  }

  .certificate__thumbnail {
    aspect-ratio: 16/9;
    overflow: hidden;
    border-radius: 4px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 8px;
  }

  .certificate__thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .certificate__video-title {
    font-size: 9px;
    color: #78350f;
    text-align: center;
    margin: 0;
    line-height: 1.4;
  }

  /* 本文 */
  .certificate__body {
    margin-bottom: 12px;
  }

  .certificate__pretext {
    font-size: 8px;
    color: #92400e;
    text-align: center;
    margin: 0 0 8px;
  }

  .certificate__action {
    background: rgba(255, 255, 255, 0.6);
    border-radius: 4px;
    padding: 10px;
    border: 1px solid rgba(180, 134, 11, 0.2);
  }

  .certificate__action-text {
    font-size: 11px;
    font-weight: 500;
    color: #1f2937;
    text-align: center;
    margin: 0;
    line-height: 1.6;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* フッター */
  .certificate__footer {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
  }

  .certificate__date-section {
    text-align: left;
  }

  .certificate__date-label {
    font-size: 7px;
    color: #92400e;
    margin: 0;
  }

  .certificate__date {
    font-size: 10px;
    font-weight: 600;
    color: #78350f;
    margin: 2px 0 0;
  }

  /* 認定シール */
  .certificate__seal {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.2),
      inset 0 1px 2px rgba(255, 255, 255, 0.2);
  }

  .certificate__seal-inner {
    width: 32px;
    height: 32px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .certificate__seal-inner span {
    font-size: 9px;
    font-weight: 700;
    color: #fff;
    letter-spacing: 1px;
  }
</style>
