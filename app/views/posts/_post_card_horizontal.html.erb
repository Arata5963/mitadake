<%# app/views/posts/_post_card_horizontal.html.erb %>
<%# 横スクロールセクション用のカード（YouTube風） %>

<article class="flex-shrink-0 group" style="width: 200px; min-width: 200px; max-width: 200px;">
  <%= link_to post_path(post), class: "block" do %>
    <%# サムネイル（16:9） %>
    <div class="rounded-lg overflow-hidden bg-gray-100" style="width: 200px; height: 112px;">
      <%= image_tag post.youtube_thumbnail_url(size: :mqdefault),
            alt: post.youtube_title || post.action_plan,
            class: "w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",
            loading: "lazy" %>
    </div>
  <% end %>

  <%# コンテンツ（固定高さ） %>
  <div class="pt-2" style="height: 72px;">
    <%= link_to post_path(post), class: "block" do %>
      <%# タイトル（2行固定） %>
      <h3 class="text-[13px] font-bold text-gray-900 leading-tight line-clamp-2 group-hover:text-orange-600 transition-colors" style="height: 32px;">
        <%= post.youtube_title.presence || post.action_plan %>
      </h3>
    <% end %>

    <%# チャンネル情報 %>
    <div class="mt-1 flex items-center gap-1.5" style="height: 16px;">
      <% if post.youtube_channel_name.present? %>
        <% if post.youtube_channel_thumbnail_url.present? %>
          <%= image_tag post.youtube_channel_thumbnail_url,
                alt: post.youtube_channel_name,
                class: "w-4 h-4 rounded-full object-cover flex-shrink-0",
                loading: "lazy" %>
        <% end %>
        <span class="text-[11px] text-gray-500 truncate"><%= post.youtube_channel_name %></span>
      <% end %>
    </div>

    <%# アクション数 %>
    <div class="mt-0.5">
      <span class="text-[11px] text-gray-400"><%= post.post_entries.count %>件のアクション</span>
    </div>
  </div>
</article>
