<%#
  app/views/users/collections/_certificate.html.erb
  ==========================================
  達成コレクション: 証明書デザイン
  ==========================================

  【このパーシャルの役割】
  達成したアクションプランを「達成証明書」風に表示。
  公式な証明書のような格式あるデザイン。

  【パラメータ】
  entry: 達成済みのPostEntryオブジェクト

  【デザイン要素】
  - 装飾ボーダー（額縁風）
  - エンブレム（星マーク）
  - 「CERTIFICATE OF ACHIEVEMENT」タイトル
  - 動画サムネイル
  - アクションプラン（引用形式）
  - 達成日
  - 認定シール

  【CSSクラス】
  .certificate__* で定義
  app/assets/stylesheets/collections.css
%>
<% post = entry.post %>

<article class="certificate">
  <%# 装飾ボーダー %>
  <div class="certificate__border">
    <div class="certificate__inner">
      <%# ヘッダー %>
      <header class="certificate__header">
        <div class="certificate__emblem">
          <svg viewBox="0 0 40 40" fill="currentColor">
            <path d="M20 2L24.5 11.5L35 13L27.5 20.5L29 31L20 26L11 31L12.5 20.5L5 13L15.5 11.5L20 2Z"/>
          </svg>
        </div>
        <h2 class="certificate__title">達成証明書</h2>
        <p class="certificate__subtitle">CERTIFICATE OF ACHIEVEMENT</p>
      </header>

      <%# 動画情報 %>
      <div class="certificate__video">
        <div class="certificate__thumbnail">
          <%= image_tag "https://i.ytimg.com/vi/#{post.youtube_video_id}/mqdefault.jpg",
                alt: post.youtube_title,
                loading: "lazy" %>
        </div>
        <p class="certificate__video-title"><%= truncate(post.youtube_title, length: 45) %></p>
      </div>

      <%# 本文 %>
      <div class="certificate__body">
        <p class="certificate__pretext">上記の動画を視聴し、以下を実践したことを証明します</p>
        <div class="certificate__action">
          <p class="certificate__action-text">"<%= entry.content %>"</p>
        </div>
      </div>

      <%# フッター %>
      <footer class="certificate__footer">
        <div class="certificate__date-section">
          <p class="certificate__date-label">達成日</p>
          <p class="certificate__date"><%= entry.achieved_at.strftime("%Y年%-m月%-d日") %></p>
        </div>
        <div class="certificate__seal">
          <div class="certificate__seal-inner">
            <span>認定</span>
          </div>
        </div>
      </footer>
    </div>
  </div>
</article>
