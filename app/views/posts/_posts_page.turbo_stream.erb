<%#
  app/views/posts/_posts_page.turbo_stream.erb
  ==========================================
  Turbo Stream: 追加投稿読み込み
  ==========================================

  【このファイルの役割】
  「もっと見る」クリック時に返されるTurbo Streamレスポンス。
  追加の投稿をページに挿入し、ボタンを更新する。

  【Turbo Streamとは？】
  ページ全体をリロードせずに、特定のDOM要素だけを
  追加・更新・削除するRailsの機能。

  【使用されるアクション】
  - turbo_stream.append: 要素の末尾に追加
  - turbo_stream.replace: 要素を置き換え

  【処理内容】
  1. posts-container に新しい投稿カードを追加
  2. load-more-container のボタンを更新（次ページ有無で切替）
%>

<%# 追加の投稿をメインコンテナに追加 %>
<%= turbo_stream.append "posts-container" do %>
  <% posts.each do |post| %>
    <%= render 'posts/post_card_note', post: post %>
  <% end %>
<% end %>

<%# もっと見るボタンを更新（次ページがあれば新しいボタン、なければ削除） %>
<%= turbo_stream.replace "load-more-container" do %>
  <%= render 'posts/load_more_button', posts: posts %>
<% end %>
